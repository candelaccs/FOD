3. Realizar un programa que presente un menú con opciones para:
a. Crear un archivo de registros no ordenados de empleados y completarlo con
datos ingresados desde teclado. De cada empleado se registra: número de
empleado, apellido, nombre, edad y DNI. Algunos empleados se ingresan con
DNI 00. La carga finaliza cuando se ingresa el String ‘fin’ como apellido.
b. Abrir el archivo anteriormente generado y
i. Listar en pantalla los datos de empleados que tengan un nombre o apellido
determinado, el cual se proporciona desde el teclado.
ii. Listar en pantalla los empleados de a uno por línea.
iii. Listar en pantalla los empleados mayores de 70 años, próximos a jubilarse.
NOTA: El nombre del archivo a crear o utilizar debe ser proporcionado por el usuario.

program ejercicio3;
type

  str13 = string [13];
  empleado = record
    nom: str13;
    ape: str13;
    cod,edad,dni: integer;
  end;
  archi_empleados = file of empleado;
  
procedure leer (var e: empleado);
begin

  writeln ('ingrese su apellido');
  readln (e.ape);
  if (e.ape <> 'fin') do begin
   writeln ('ingrese nombre');
   readln (e.nom);
   writeln ('ingrese dni');
   readln (e.dni);
   writeln ('ingrese edad');
   readln (e.edad);
   writeln ('ingrese codigo de empleado');
   readln (e.cod);
end; 
  

procedure crear (var archi: archi_empleados);
var
 n: str13;
 e: empleado;
begin

 writeln ('ingrese el nombre del archivo');
 readln (n);
 assign (archi, n);
 rewrite(archi);
 leer (e);

 while (e.ape <> 'fin') do begin
   write (archi, e);
   leer (e);
 end;
 close (archi);
end;

procedure mostrar (e: empleado);
begin
  write (e.ape);
  write (e.nom);
  write (e.dni);
  write (e.cod);
  write (e.edad);
end;

procedure ape_nom (var archi: archi_empleados);
var
 e: empleado;
 n: str13;
begin

  writeln ('ingrese un nombre o apelldio a buscar');
  readln (n);

  reset (archi);
  while (not eof(archi)) do begin
   read (archi,e);
   if (e.ape = n) or (e.nom = n) then
     mostrar (e);
  end;
  close (archi)

end;

procedure todos (var archi: archi_empleados);
var
 e: empleado;
begin

 writeln ('a continuacion se muestran todos los empleados');
 
 reset (archi);

 while (not eof(archi)) do begin
   read (archi, e);
   mostrar (e);
   writeln (' ------------------------------------- ');
 end;

 close (archi);

end;

procedure jubilados (var archi: archi_empleados);
var
 e: empleado;
begin

 writeln (' a continuacion se muestran los empleados proximos a jubilarse');
 reset (archi);
 while (not eof(archi)) do begin
   read (archi, e);
   if (e.edad > 70) then
     mostrar (e);
 end;

 close (archi);

end;


var
  archi: archi_empleados;
  op: integer;
  salir: boolean;
begin
 salir:= false;

 while (salir = false) do begin

   writeln (' menu de opciones ');
   writeln (' ------------------------------------------------------ ');
   writeln ('1. crear un archivo');
   writeln ('2. mostrar en pantalla los datos de empleados que tengan un nombre o apellido determinado');
   writeln ('3. mostrar en pantalla los empleados de a uno por línea');
   writeln ('4. mostrar en pantalla los empleados mayores de 70 años, próximos a jubilarse');
   writeln ('5. salir');
   readln (op);

   case op of
   
     1: crear (archi);
     2: ape_nom (archi);
     3: todos (archi);
     4: jubilados (archi);
     5: salir:= true;
   end;   
   
 end;
 
 writeln ('                                                ha salido del menu ');
 
end.
